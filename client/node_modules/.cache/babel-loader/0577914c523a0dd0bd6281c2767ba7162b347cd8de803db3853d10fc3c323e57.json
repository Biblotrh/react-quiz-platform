{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DoC\\\\Desktop\\\\works\\\\ptest\\\\client\\\\src\\\\pages\\\\testPage\\\\TestPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from './TestPage.module.scss';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TestPage() {\n  _s();\n  const [test, setTest] = useState(null);\n  const [userAnswers, setUserAnswers] = useState({});\n  const [score, setScore] = useState(0);\n  const params = useParams();\n  const testId = params.id;\n  useEffect(() => {\n    // Fetch the test data\n    axios.get(`/api/tests/${testId}`).then(response => {\n      setTest(response.data);\n    }).catch(error => {\n      console.error('There was an error fetching the test!', error);\n    });\n  }, [testId]);\n  const handleAnswerChange = (questionIndex, points) => {\n    setUserAnswers(prev => ({\n      ...prev,\n      [questionIndex]: points\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const totalScore = Object.values(userAnswers).reduce((acc, points) => acc + points, 0);\n    setScore(totalScore);\n  };\n  if (!test) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Loading...\", testId]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.testPage,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: test.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: test.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [test.questions.map((question, qIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.question,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: question.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), question.answers.map((answer, aIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.answer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: `question-${qIndex}`,\n            value: answer.points,\n            onChange: () => handleAnswerChange(qIndex, answer.points)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: answer.answer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this)]\n        }, aIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this))]\n      }, qIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), score !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.results,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Your Score: \", score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this), test.results.map((result, index) => score >= result.minScore && score <= result.maxScore ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: result.result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }, this) : null)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n_s(TestPage, \"HZoEeyGSFbtWTTh+XQdNMP5CTpA=\", false, function () {\n  return [useParams];\n});\n_c = TestPage;\n;\nvar _c;\n$RefreshReg$(_c, \"TestPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","styles","useParams","jsxDEV","_jsxDEV","TestPage","_s","test","setTest","userAnswers","setUserAnswers","score","setScore","params","testId","id","get","then","response","data","catch","error","console","handleAnswerChange","questionIndex","points","prev","handleSubmit","e","preventDefault","totalScore","Object","values","reduce","acc","children","fileName","_jsxFileName","lineNumber","columnNumber","className","testPage","name","description","onSubmit","questions","map","question","qIndex","answers","answer","aIndex","type","value","onChange","results","result","index","minScore","maxScore","_c","$RefreshReg$"],"sources":["C:/Users/DoC/Desktop/works/ptest/client/src/pages/testPage/TestPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './TestPage.module.scss';\r\nimport { useParams } from 'react-router-dom';\r\n\r\ninterface Answer {\r\n    answer: string;\r\n    isRight: boolean;\r\n    points: 0 | 1 | 2 | 3;\r\n}\r\n\r\ninterface Question {\r\n    question: string;\r\n    answers: Answer[];\r\n}\r\n\r\ninterface Result {\r\n    result: string;\r\n    minScore: number;\r\n    maxScore: number;\r\n}\r\n\r\ninterface Test {\r\n    name: string;\r\n    description: string;\r\n    questions: Question[];\r\n    results: Result[];\r\n    score: number;\r\n    likes: number;\r\n    comments: string[];\r\n    createdAt: Date;\r\n    isUpdated: Date[];\r\n}\r\n\r\n\r\n\r\nexport default function TestPage() {\r\n    const [test, setTest] = useState<Test | null>(null);\r\n    const [userAnswers, setUserAnswers] = useState<{ [key: number]: number }>({});\r\n    const [score, setScore] = useState<number>(0);\r\n    const params = useParams();\r\n    const testId = params.id;\r\n\r\n    useEffect(() => {\r\n        // Fetch the test data\r\n        axios.get(`/api/tests/${testId}`)\r\n            .then(response => {\r\n                setTest(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error fetching the test!', error);\r\n            });\r\n    }, [testId]);\r\n\r\n    const handleAnswerChange = (questionIndex: number, points: number) => {\r\n        setUserAnswers(prev => ({\r\n            ...prev,\r\n            [questionIndex]: points\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const totalScore = Object.values(userAnswers).reduce((acc, points) => acc + points, 0);\r\n        setScore(totalScore);\r\n    };\r\n\r\n    if (!test) return <div>Loading...{testId}</div>;\r\n\r\n    return (\r\n        <div className={styles.testPage}>\r\n            <h1>{test.name}</h1>\r\n            <p>{test.description}</p>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                {test.questions.map((question, qIndex) => (\r\n                    <div key={qIndex} className={styles.question}>\r\n                        <h3>{question.question}</h3>\r\n                        {question.answers.map((answer, aIndex) => (\r\n                            <div key={aIndex} className={styles.answer}>\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name={`question-${qIndex}`}\r\n                                    value={answer.points}\r\n                                    onChange={() => handleAnswerChange(qIndex, answer.points)}\r\n                                />\r\n                                <label>{answer.answer}</label>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ))}\r\n\r\n                <button type=\"submit\">Submit</button>\r\n            </form>\r\n\r\n            {score !== 0 && (\r\n                <div className={styles.results}>\r\n                    <h2>Your Score: {score}</h2>\r\n                    {test.results.map((result, index) => (\r\n                        score >= result.minScore && score <= result.maxScore ? (\r\n                            <div key={index}>\r\n                                <h3>{result.result}</h3>\r\n                            </div>\r\n                        ) : null\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}